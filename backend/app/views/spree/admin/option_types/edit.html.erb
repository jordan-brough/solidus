<% content_for :page_title do %>
  <%= link_to Spree::Product.model_name.human(count: :other), spree.admin_products_path  %> &#x2f; 
  <%= link_to Spree::OptionType.model_name.human(count: :other), spree.admin_option_types_path %> &#x2f;
  <%= @option_type.name %>
<% end %>

<% content_for :page_actions do %>
  <li>
    <span id="new_add_option_value" data-hook>
      <%= link_to_add_fields Spree.t(:add_option_value), "tbody#option_values", :class => 'button fa fa-plus' %>
    </span>
  </li>
  <% end %>

<%= render :partial => 'spree/shared/error_messages', :locals => { :target => @option_type } %>

<%= form_for [:admin, @option_type] do |f| %>

  <fieldset class="no-border-bottom">
    <legend><%= Spree::OptionType.model_name.human %></legend>
    <%= render :partial => 'form', :locals => { :f => f } %>
  </fieldset>

  <fieldset>
    <legend><%= plural_resource_name(Spree::OptionValue) %></legend>
    <table class="index sortable" data-hook data-sortable-link="<%= update_values_positions_admin_option_types_url %>">
      <thead data-hook="option_header">
        <tr>
          <th colspan="2"><%= Spree::OptionValue.human_attribute_name(:name) %></th>
          <th><%= Spree::OptionValue.human_attribute_name(:presentation) %></th>
          <th class="actions"></th>
        </tr>
      </thead>
      <tbody id="option_values">
        <%= f.fields_for :option_values, @option_values do |option_value_form| %>
          <%= render :partial => 'option_value_fields', :locals => { :f => option_value_form } %>
        <% end %>
      </tbody>
    </table>
    <%= render :partial => 'spree/admin/shared/edit_resource_links' %>
  </fieldset>
<% end %>
